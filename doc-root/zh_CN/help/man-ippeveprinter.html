<!DOCTYPE HTML>
<html>
  <!-- SECTION: Man 手册 -->
  <head>
    <link rel="stylesheet" type="text/css" href="../cups-printable.css">
    <title>ippeveprinter(1)</title>
  </head>
  <body>
    <h1 class="title">ippeveprinter(1)</h1>

    <h2 class="title"><a name="NAME">名称</a></h2>
    <p>&emsp;&emsp;ippeveprinter - 用于 cups 的 ipp everywhere 打印机应用程序

    <h2 class="title"><a name="SYNOPSIS">摘要</a></h2>
    <p>&emsp;&emsp;<b>ippeveprinter</b> [<b>--help</b>] [<b>--no-web-forms</b>] [<b>--pam-service</b> <i>service</i>] [ <b>--version</b>] [<b>-2</b>] [<b>-A</b>] [<b>-D</b> <i>device-uri</i>] [<b>-F</b> <i>output-type/subtype</i>] [<b>-K</b> <i>keypath</i>] [<b>-M</b> <i>manufacturer</i>] [<b>-P</b> <i>filename.ppd</i>] [<b>-V</b> <i>ipp-version</i>] [<b>-a</b> <i>filename.conf</i>] [<b>-c</b> <i>command</i>] [<b>-d</b> <i>spool-directory</i>] [<b>-f</b> <i>type/subtype[,...]</i>] [<b>-i</b> <i>iconfile.png</i>] [<b>-k</b> ] [<b>-l</b> <i>location</i>] [<b>-m</b> <i>model</i>] [<b>-n</b> <i>hostname</i>] [<b>-p</b> <i>port</i>] [<b>-r</b> <i>subtype[,subtype]</i>] [<b>-s</b> <i>speed[,color-speed]</i>] [<b>-v[vvv]</b>] <i>service-name</i>

    <h2 class="title"><a name="DESCRIPTION">说明</a></h2>
    <p>&emsp;&emsp;<b>ippeveprinter</b> 是一个简单的互联网打印协议（ IPP ）服务器，符合 IPP Everywhere（ PWG 5100.14 ）规范。它可以用来测试客户端软件，或者作为一个非常基本的打印服务器，为打印的每个任务运行一个命令。

    <h2 class="title"><a name="OPTIONS">选项</a></h2>
    <p>&emsp;&emsp;<b>ippeveprinter:</b> 可以识别以下选项：</b>
    <dl class="man">
      <dt><b>--help</b>
      <dd style="margin-left: 5.0em">显示程序使用情况。
      <dt><b>--no-web-forms</b>
      <dd style="margin-left: 5.0em">禁用用于更新介质和供应级别的 Web 界面表单。
      <dt><b>--pam-service </b><i>service</i>
      <dd style="margin-left: 5.0em">设置 PAM 服务名称。默认服务是 “cups” 。
      <dt><b>--version</b>
      <dd style="margin-left: 5.0em">显示 CUPS 版本。
      <dt><b>-2</b>
      <dd style="margin-left: 5.0em">报告双面打印支持。
      <dt><b>-A</b>
      <dd style="margin-left: 5.0em">为创建的打印机启用身份验证。 <b>ippeveprinter</b> 使用 PAM 对 HTTP 基本凭据进行身份验证。
      <dt><b>-D </b><i>device-uri</i>
      <dd style="margin-left: 5.0em">设置打印输出的设备 URI 。 URI 可以是文件名、目录或以下形式的网络套接字 URI “socket://ADDRESS[:端口]（其中默认端口号为 9100 ）。指定目录时， <b>ippeveprinter</b> 将使用任务 ID 和名称创建输出文件。
      <dt><b>-F </b><i>output-type/subtype[,...]</i>
      <dd style="margin-left: 5.0em">指定输出 MIME 媒体类型。当指定 <b>-P</b> 选项时，默认值为 “application/postscript” 。
      <dt><b>-M </b><i>manufacturer</i>
      <dd style="margin-left: 5.0em">设置打印机的制造商。默认值为 “Example” 。
      <dt><b>-P </b><i>filename.ppd</i>
      <dd style="margin-left: 5.0em">从指定的 PPD 文件加载打印机属性。此选项通常与 <b>ippevps</b>(7) 打印机命令（ “-c ippevps” ）一起使用。
      <dt><b>-V 1.1</b>
      <dt><b>-V 2.0</b>
      <dd style="margin-left: 5.0em">指定要报告的最大 IPP 版本。默认值为 2.0。
      <dt><b>-c </b><i>command</i>
      <dd style="margin-left: 5.0em">对打印的每个文档运行指定的命令。如果 “command” 不是绝对路径（ “/path/to/command” ）， <b>ippeveprinter</b> 在 CUPS 二进制目录的 “command” 子目录中查找该命令，通常是 /usr/lib/CUPS/command 或 /usr/libexec/CUPS/command 。 <b>cups-config</b>(1) 命令可用于发现正确的二进制目录（ “cups-config --serverbin” ）。此外， CUPS_SERVERBIN 环境变量可用于覆盖此目录的默认位置  － 有关详细信息，请参阅 <b>cups</b>(1) 手册页。
      <dt><b>-d </b><i>spool-directory</i>
      <dd style="margin-left: 5.0em">指定将保存打印文件的目录。默认为用户当前临时目录下的目录。
      <dt><b>-f </b><i>type/subtype[,...]</i>
      <dd style="margin-left: 5.0em">指定服务器将接受的 MIME 媒体类型列表。默认值取决于创建的打印机类型。
      <dt><b>-i </b><i>iconfile.png</i>
      <dd style="margin-left: 5.0em">指定服务器的打印机图标文件。该文件必须是 PNG 格式的图像。默认为内部提供的 PNG 图像。
      <dt><b>-k</b>
      <dd style="margin-left: 5.0em">将打印文档保留在 spool 目录中，而不是删除它们。
      <dt><b>-l </b><i>location</i>
      <dd style="margin-left: 5.0em">指定由服务器报告的人类可读的位置字符串。默认值为空字符串。
      <dt><b>-m </b><i>model</i>
      <dd style="margin-left: 5.0em">指定打印机的型号名称。默认值为 “Printer” 。
      <dt><b>-n </b><i>hostname</i>
      <dd style="margin-left: 5.0em">指定服务器报告的主机名。默认值是由 <b>hostname</b>(1) 命令返回的名称。
      <dt><b>-p </b><i>port</i>
      <dd style="margin-left: 5.0em">指定要监听的端口号。默认是一个用户号码，从 8000 到 8999 。
      <dt><b>-r</b><b>off</b>
      <dd style="margin-left: 5.0em">完全关闭 DNS-SD 服务发布。
      <dt><b>-r </b><i>subtype[,subtype]</i>
      <dd style="margin-left: 5.0em">指定要发布的 DNS-SD 子类型。用逗号分隔多个子类型。默认值为 “_print” 。
      <dt><b>-s </b><i>speed[,color-speed]</i>
      <dd style="margin-left: 5.0em">以每分钟页数为单位指定打印机速度。如果指定了两个数字，并且第二个数字大于零，则服务器将报告支持彩色打印。默认值为 “10,0” 。
      <dt><b>-v[vvv]</b>
      <dd style="margin-left: 5.0em">将活动记录到标准错误时要（非常）详细。
    </dd>

    <h2 class="title"><a name="EXIT_STATUS">退出状态</a></h2>
    <p>&emsp;&emsp;如果无法处理命令行参数或注册 IPP 服务，<b>ippeveprinter</b> 程序将返回 1 。否则，打印机将持续运行，直到终止。

    <h2 class="title"><a name="CONFORMING_TO">遵循</a></h2>
    <p>&emsp;&emsp;<b>ippeveprinter</b> 程序是 CUPS 独有的，符合 IPP Everywhere（ PWG 5100.14 ）规范。

    <h2 class="title"><a name="ENVIRONMENT">环境变量</a></h2>
    <p>&emsp;&emsp;<b>ippeveprinter</b> 为打印请求中的所有 IPP 任务属性添加以 “IPP_” 开头的环境变量。例如，当为包含 “media” 任务模板属性的 IPP 任务执行命令时， “IPP_MEDIA” 环境变量将设置为该属性的值。
    <p>&emsp;&emsp;此外，所有 IPP “xxx-default” 和 “pwg-xxx” 打印机描述属性都添加到环境中。例如，“IPP_MEDIA_DEFAULT” 环境变量将设置为 “media” 任务模板属性的默认值。
    <p>&emsp;&emsp;枚举值将转换为它们的关键字等价项。例如，枚举值为 3 的 “print-quality” 任务模板属性将成为值为 “draft” 的 “IPP_PRINT_QUALITY” 环境变量。此字符串转换仅适用于标准任务模板属性，当前为 “finishings” 、 “orientation-requested” 和 “print-quality” 。
    <p>&emsp;&emsp;最后，“CONTENT_TYPE” 环境变量包含正在打印的文档的 MIME 媒体类型， “DEVICE_URI” 环境变量包含用 “-D” 选项指定的设备 URI， “OUTPUT_FORMAT” 环境变量包含输出 MIME 媒体类型， “PPD” 环境变量包含用 “-P” 选项指定的 PPD 文件名。

    <h2 class="title"><a name="COMMAND_OUTPUT">命令输出</a></h2>
    <p>&emsp;&emsp;除非它们直接与打印机通信，否则打印命令会将 printer-ready 数据发送到标准输出。
    <p>&emsp;&emsp;打印命令可以在出现以下前缀之一的标准错误时将消息发送回 <b>ippeveprinter</b>  ：
    <dl class="man">
      <dt><b>ATTR: </b><i>attribute=value[ attribute=value]</i>
      <dd style="margin-left: 5.0em">将命名属性设置为给定值。目前只能设置 “job-impressions” 和 “job-impressions-completed” 任务状态属性以及 “marker-xxx” 、 “printer-alert” 、 “printer-alert-description” 、 “printer-supply” 和 “printer-supply-description” 打印机状态属性。
      <dt><b>DEBUG: </b><i>Debugging message</i>
      <dd style="margin-left: 5.0em">如果至少指定了两个 -v ，则记录调试消息。
      <dt><b>ERROR: </b><i>Error message</i>
      <dd style="margin-left: 5.0em">记录错误消息并将消息复制到 “job-state-message” 属性。
      <dt><b>INFO: </b><i>Informational message</i>
      <dd style="margin-left: 5.0em">如果指定了 -v ，则记录信息/进度消息，并将消息复制到 “job-state-message” 属性，除非报告了错误。
      <dt><b>STATE: </b><i>keyword[,keyword,...]</i>
      <dd style="margin-left: 5.0em">将打印机的 “printer-state-reasons” 属性设置为列出的关键字。
      <dt><b>STATE: -</b><i>keyword[,keyword,...]</i>
      <dd style="margin-left: 5.0em">从打印机的 “printer-state-reasons” 属性中删除列出的关键字。
      <dt><b>STATE: +</b><i>keyword[,keyword,...]</i>
      <dd style="margin-left: 5.0em">将列出的关键字添加到打印机的 “printer-state-reasons” 属性中。
    </dd>
    <h2 class="title"><a name="EXAMPLES">例子</a></h2>
    <p>&emsp;&emsp;使用 My Cool Printer 的服务名称运行 <b>ippeveprinter</b> ：
    <pre class="man">ippeveprinter "My Cool Printer"</pre>
    <p>&emsp;&emsp;每当向服务器发送任务时，运行 <b>file</b>(1) 命令：
    <pre class="man">ippeveprinter -c /usr/bin/file "My Cool Printer"</pre>

    <h2 class="title"><a name="SEE_ALSO">另见</a></h2>
    <p>&emsp;&emsp;<b>ippevepcl</b>(7) 、 <b>ippeveps</b>(7)
    <p>&emsp;&emsp;PWG 互联网打印协议任务组（<a href="http://www.pwg.org/ipp">http://www.pwg.org/ipp</a>）

    <h2 class="title"><a name="COPYRIGHT">版权</a></h2>
    <p>&emsp;&emsp;Copyright &copy; 2007-2019 by Apple Inc.</p>
  </body>
</html>
