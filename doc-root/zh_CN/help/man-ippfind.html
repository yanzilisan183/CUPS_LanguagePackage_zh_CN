<!DOCTYPE HTML>
<html>
  <!-- SECTION: Man 手册 -->
  <head>
    <link rel="stylesheet" type="text/css" href="../cups-printable.css">
    <title>ippfind(1)</title>
  </head>
  <body>
    <h1 class="title">ippfind(1)</h1>

    <h2 class="title"><a name="NAME">名称</a></h2>
    <p>&emsp;&emsp;ippfind - 查找 Internet 打印协议打印机

    <h2 class="title"><a name="SYNOPSIS">摘要</a></h2>
    <p>&emsp;&emsp;<b>ippfind</b> [<i>options</i>] <i>regtype</i>[<b>,</b><i>subtype</i>][<b>.</b><i>domain</i><b>.</b>] ... [<i>expression</i> ... ]<br>
       &emsp;&emsp;<b>ippfind</b> [<i>options</i>] <i>name</i>[<b>.</b><i>regtype</i>[<b>.</b><i>domain</i><b>.</b>]] ... [<i>expression</i> ... ]<br>
       &emsp;&emsp;<b>ippfind</b> <b>--help</b><br>
       &emsp;&emsp;<b>ippfind</b> <b>--version</b>

    <h2 class="title"><a name="DESCRIPTION">说明</a></h2>
    <p>&emsp;&emsp;<b>ippfind</b> 查找在 DNS 服务器上注册或通过本地设备可用的服务。其主要目的是查找 IPP 打印机并显示其 URI、显示其当前状态或运行命令。
    <h3><a name="REGISTRATION_TYPES">注册类型</a></h3>
    <p>&emsp;&emsp;<b>ippfind</b> 支持以下注册类型：
    <dl class="man">
      <dt>_http._tcp
      <dd style="margin-left: 5.0em">超文本传输协议（ HTTP，RFC 2616 ）
      <dt>_https._tcp
      <dd style="margin-left: 5.0em">安全超文本传输协议（ HTTPS，RFC 2818 ）
      <dt>_ipp._tcp
      <dd style="margin-left: 5.0em">Internet 打印协议（ IPP，RFC 2911 ）
      <dt>_ipps._tcp
      <dd style="margin-left: 5.0em">安全 Internet 打印协议（ IPPS，草稿）
      <dt>_printer._tcp
      <dd style="margin-left: 5.0em">行式打印机守护程序（ LPD, RFC 1179 ）
    </dd>
    <h3><a name="EXPRESSIONS">表达式</a></h3>
    <p>&emsp;&emsp;<b>ippfind</b> 支持类似于 <b>find</b>(1) 实用程序的表达式。但是，与 <b>find</b>(1) ， <b>ippfind</b> 使用 POSIX 正则表达式而不是 shell 文件名匹配模式。如果未指定 <i>--exec</i> 、 <i>-l</i> 、 <i>--ls</i> 、 <i>-p</i> 、 <i>--print</i> 、 <i>--print name</i> 、 <i>-q</i> 、 <i>--quiet</i> 、 <i>-s</i> 或 <i>-x</i> ，<b>ippfind</b> 添加 <i>--print</i> 来打印它找到的任何服务 URI。支持以下表达式：
    <dl class="man">
      <dt><b>-d </b><i>regex</i>
      <dt><b>--domain </b><i>regex</i>
      <dd style="margin-left: 5.0em">如果域与给定的正则表达式匹配，则为 true 。
      <dt><b>--false</b>
      <dd style="margin-left: 5.0em">总是 false。
      <dt><b>-h </b><i>regex</i>
      <dt><b>--host </b><i>regex</i>
      <dd style="margin-left: 5.0em">True 表示主机名与给定的正则表达式匹配。
      <dt><b>-l</b>
      <dt><b>--ls</b>
      <dd style="margin-left: 5.0em">列出 IPP 打印机的 “Get-Printer-Attributes” 和 HTTP URL 的传统 <i>find</i> "-ls" 输出返回的属性。如果 URI 是可访问的，则结果为 true ，否则为 false 。
      <dt><b>--local</b>
      <dd style="margin-left: 5.0em">如果服务是此计算机的本地服务，则为 true 。
      <dt><b>-N </b><i>name</i>
      <dt><b>--literal-name </b><i>name</i>
      <dd style="margin-left: 5.0em">如果服务实例名称与给定名称匹配，则为 true 。
      <dt><b>-n </b><i>regex</i>
      <dt><b>--name </b><i>regex</i>
      <dd style="margin-left: 5.0em">如果服务实例名称与给定的正则表达式匹配，则为 true 。
      <dt><b>--path </b><i>regex</i>
      <dd style="margin-left: 5.0em">如果 URI 资源路径与给定的正则表达式匹配，则为 true 。
      <dt><b>-P </b><i>number</i>[<b>-</b><i>number</i>]
      <dt><b>--port </b><i>number</i>[<b>-</b><i>number</i>]
      <dd style="margin-left: 5.0em">如果端口与给定的数字或范围匹配，则为 true 。
      <dt><b>-p</b>
      <dt><b>--print</b>
      <dd style="margin-left: 5.0em">如果前面表达式的结果为 true ，则打印 URI 。结果总是 true 。
      <dt><b>-q</b>
      <dt><b>--quiet</b>
      <dd style="margin-left: 5.0em">安静模式 － 仅返回下面的退出代码。
      <dt><b>-r</b>
      <dt><b>--remote</b>
      <dd style="margin-left: 5.0em">如果服务不是此计算机的本地服务，则为 true 。
      <dt><b>-s</b>
      <dt><b>--print-name</b>
      <dd style="margin-left: 5.0em">如果前面表达式的结果为 true ，则打印服务实例名称。结果总是 true 。
      <dt><b>--true</b>
      <dd style="margin-left: 5.0em">总是 true 。
      <dt><b>-t </b><i>key</i>
      <dt><b>--txt </b><i>key</i>
      <dd style="margin-left: 5.0em">如果 TXT 记录包含命名键，则为 true 。
      <dt><b>--txt-</b><i>key regex</i>
      <dd style="margin-left: 5.0em">如果 TXT 记录包含命名键并与给定正则表达式匹配，则为 true 。
      <dt><b>-u </b><i>regex</i>
      <dt><b>--uri </b><i>regex</i>
      <dd style="margin-left: 5.0em">如果 URI 与给定的正则表达式匹配，则为 true 。
      <dt><b>-x </b><i>utility </i>[ <i>argument </i>... ] <b>;</b>
      <dt><b>--exec </b><i>utility </i>[ <i>argument </i>... ] <b>;</b>
      <dd style="margin-left: 5.0em">如果当前结果为 true ，则执行指定的程序。 “{foo}” 参数将替换为相应的值 － 请参见下面的 SUBSTITUTIONS 。
    </dd>
    <p>&emsp;&emsp;表达式也可以包含修饰符：
    <dl class="man">
      <dt><b>( </b><i>expression </i><b>)</b>
      <dd style="margin-left: 5.0em">将表达式的结果分组。
      <dt><b>! </b><i>expression</i>
      <dt><b>--not </b><i>expression</i>
      <dd style="margin-left: 5.0em">一元运算符，对表达式取“非”值。
      <dt><i>expression expression</i>
      <dt><i>expression </i><b>--and </b><i>expression</i>
      <dd style="margin-left: 5.0em">表达式的逻辑“与”。
      <dt><i>expression </i><b>--or </b><i>expression</i>
      <dd style="margin-left: 5.0em">表达式的逻辑“或”。
    </dd>
    <h3><a name="SUBSTITUTIONS">替换</a></h3>
    <p>&emsp;&emsp;<i>-e</i> 和 <i>-exec</i> 中 “{foo}” 将替换为：
    <dl class="man">
      <dt><b>{service_domain}</b>
      <dd style="margin-left: 5.0em">域名，如 “example.com.” 、 “local.” 等。
      <dt><b>{service_hostname}</b>
      <dd style="margin-left: 5.0em">完全限定的域名，例如，“printer.example.com.” 、 “printer.local.” 等。
      <dt><b>{service_name}</b>
      <dd style="margin-left: 5.0em">服务实例名称，例如， “My Fine Printer” 。
      <dt><b>{service_port}</b>
      <dd style="margin-left: 5.0em">服务器的端口号，IPP 通常为 631 ， HTTP 通常为 80。
      <dt><b>{service_regtype}</b>
      <dd style="margin-left: 5.0em">DNS-SD 注册类型，例如，“_ipp._tcp” 、 “_http._tcp” 等。
      <dt><b>{service_scheme}</b>
      <dd style="margin-left: 5.0em">DNS-SD 注册类型的 URI 方案，例如 “ipp” 、 “http” 等。
      <dt><b>{}</b>
      <dt><b>{service_uri}</b>
      <dd style="margin-left: 5.0em">服务的 URI ，例如 “ipp://printer.local./ipp/print” ， “<a href="http://printer.local./">http://printer.local./</a>” 等。
      <dt><b>{txt_</b><i>key</i><b>}</b>
      <dd style="margin-left: 5.0em">TXT 记录 <i>key</i> 的值（小写）。
    </dd>

    <h2 class="title"><a name="OPTIONS">选项</a></h2>
    <p>&emsp;&emsp;<b>ippfind</b> 支持以下选项：
    <dl class="man">
      <dt><b>--help</b>
      <dd style="margin-left: 5.0em">显示程序帮助。
      <dt><b>--version</b>
      <dd style="margin-left: 5.0em">显示程序版本。
      <dt><b>-4</b>
      <dd style="margin-left: 5.0em">在列表时使用 IPv4 。
      <dt><b>-6</b>
      <dd style="margin-left: 5.0em">在列表时使用 IPv6 。
      <dt><b>-T </b><i>seconds</i>
      <dd style="margin-left: 5.0em">以秒为单位指定查找超时。如果小于等于 1 ，<b>ippfind</b> 在认为已找到所有内容时立即停止。默认超时为 1 秒。
      <dt><b>-V </b><i>version</i>
      <dd style="margin-left: 5.0em">指定列出时的 IPP 版本。支持的值为 “1.1” 、 “2.0” 、 “2.1” 和 “2.2” 。
    </dd>

    <h2 class="title"><a name="EXIT_STATUS">退出状态</a></h2>
    <p>&emsp;&emsp;<b>ippfind</b> 如果所有已处理表达式的结果为 true ，则返回 0 ；如果任何已处理表达式的结果为 false ，则返回 1 ；如果浏览或任何查询或解析失败，则返回 2 ；如果指定了未定义的选项或无效表达式，则返回 3 ；如果内存不足，则返回 4 。

    <h2 class="title"><a name="ENVIRONMENT">环境变量</a></h2>
    <p>&emsp;&emsp;执行程序时，<b>ippfind</b> 为匹配的服务注册设置以下环境变量：
    <dl class="man">
      <dt><b>IPPFIND_SERVICE_DOMAIN</b>
      <dd style="margin-left: 5.0em">域名，如 “example.com.” 、 “local.” 等。
      <dt><b>IPPFIND_SERVICE_HOSTNAME</b>
      <dd style="margin-left: 5.0em">完全限定的域名，例如， “printer.example.com.” 、 “printer.local.” 等。
      <dt><b>IPPFIND_SERVICE_NAME</b>
      <dd style="margin-left: 5.0em">服务实例名称，例如， “My Fine Printer” 。
      <dt><b>IPPFIND_SERVICE_PORT</b>
      <dd style="margin-left: 5.0em">服务器的端口号，IPP 通常为 631 ， HTTP 通常为 80 。
      <dt><b>IPPFIND_SERVICE_REGTYPE</b>
      <dd style="margin-left: 5.0em">DNS-SD 注册类型，例如， “_ipp._tcp” 、 “_http._tcp” 等。
      <dt><b>IPPFIND_SERVICE_SCHEME</b>
      <dd style="margin-left: 5.0em">DNS-SD 注册类型的 URI 方案，例如 “ipp” 、 “http” 等。
      <dt><b>IPPFIND_SERVICE_URI</b>
      <dd style="margin-left: 5.0em">服务的 URI ，例如 “ipp://printer.local./ipp/print” ， “<a href="http://printer.local./">http://printer.local./</a>” 等。
      <dt><b>IPPFIND_TXT_fIKEYfR</b>
      <dd style="margin-left: 5.0em">TXT 记录 <i>KEY</i> 的值（大写）。
    </dd>

    <h2 class="title"><a name="EXAMPLES">例子</a></h2>
    <p>&emsp;&emsp;要显示网络上所有已注册 IPP 打印机的状态，请运行：
    <pre class="man">ippfind --ls</pre>
    <p>&emsp;&emsp;同样，要向每个 PostScript 打印机发送 PostScript 测试页，请运行：
    <pre class="man">ippfind --txt-pdl application/postscript --exec ipptool
      -f onepage-letter.ps '{}' print-job.test \;</pre>

    <h2 class="title"><a name="SEE_ALSO">另见</a></h2>
    <p>&emsp;&emsp;<b>ipptool</b>(1)
    
    <h2 class="title"><a name="COPYRIGHT">版权</a></h2>
    <p>&emsp;&emsp;Copyright &copy; 2013-2019 by Apple Inc.
  </body>
</html>
